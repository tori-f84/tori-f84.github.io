import{S as t,i as e,s as a,e as r,j as s,c,a as n,k as l,d as o,f as m,g as d,h as p,z as i,t as u,v as h,b as g,l as f,n as y,x}from"./client.b8d8ad32.js";function v(t,e,a){const r=t.slice();return r[5]=e[a],r}function w(t){let e,a,u,h,g,f;function y(...e){return t[4](t[5],...e)}return{c(){e=r("div"),a=r("img"),g=s(),this.h()},l(t){e=c(t,"DIV",{class:!0});var r=n(e);a=c(r,"IMG",{class:!0,src:!0,alt:!0}),g=l(r),r.forEach(o),this.h()},h(){m(a,"class","rounded-md object-cover w-full h-full"),a.src!==(u=t[0].metadata[`largeImage${t[5]}`])&&m(a,"src",u),m(a,"alt",h=t[0].metadata.title),m(e,"class","w-full h-full rounded-md bg-gray-300 overflow-hidden hover:opacity-70 transition-opacity duration-100 ease-in-out cursor-pointer")},m(t,r){d(t,e,r),p(e,a),p(e,g),f=i(e,"click",y)},p(e,r){t=e,1&r&&a.src!==(u=t[0].metadata[`largeImage${t[5]}`])&&m(a,"src",u),1&r&&h!==(h=t[0].metadata.title)&&m(a,"alt",h)},d(t){t&&o(e),f()}}}function E(t){let e,a,r=t[0].metadata.price+"";return{c(){e=u("£"),a=u(r)},l(t){e=g(t,"£"),a=g(t,r)},m(t,r){d(t,e,r),d(t,a,r)},p(t,e){1&e&&r!==(r=t[0].metadata.price+"")&&f(a,r)},d(t){t&&o(e),t&&o(a)}}}function b(t){let e;return{c(){e=u("Sold")},l(t){e=g(t,"Sold")},m(t,a){d(t,e,a)},p:y,d(t){t&&o(e)}}}function I(t){let e,a,s,l,i;return{c(){e=r("div"),a=r("a"),s=r("img"),this.h()},l(t){e=c(t,"DIV",{class:!0});var r=n(e);a=c(r,"A",{class:!0,rel:!0,target:!0,href:!0});var l=n(a);s=c(l,"IMG",{class:!0,src:!0,alt:!0}),l.forEach(o),r.forEach(o),this.h()},h(){m(s,"class","w-24"),s.src!==(l="paypal_sm.png")&&m(s,"src","paypal_sm.png"),m(s,"alt","Paypal"),m(a,"class","w-64 h-12 bg-paypal rounded-md flex justify-center items-center opacity-75 hover:opacity-100 cursor-pointer"),m(a,"rel","noreferrer noopener"),m(a,"target","_blank"),m(a,"href",i=t[0].metadata.paypalLink),m(e,"class","flex justify-center items-center w-full pt-4 sm:pt-8 pb-4 sm:pb-8")},m(t,r){d(t,e,r),p(e,a),p(a,s)},p(t,e){1&e&&i!==(i=t[0].metadata.paypalLink)&&m(a,"href",i)},d(t){t&&o(e)}}}function M(t){let e,a,i,M,A,T,k,j,D,V,L,$,S,_,G,P,B,H,N,q,z,C,F,J,K,O,Q,R,U,W,X,Y,Z,tt,et,at,rt,st,ct,nt,lt,ot=t[0].metadata.title+"",mt=t[0].html+"";document.title=e=t[0].metadata.title+" // Matt Brealey";let dt=t[2],pt=[];for(let e=0;e<dt.length;e+=1)pt[e]=w(v(t,dt,e));function it(t,e){return"true"===t[0].metadata.sold?b:E}let ut=it(t),ht=ut(t),gt="true"!==t[0].metadata.sold&&""!==t[0].metadata.paypalLink&&I(t);return{c(){a=r("meta"),M=r("meta"),T=r("meta"),k=r("meta"),D=r("meta"),L=r("meta"),S=r("meta"),G=r("meta"),P=r("meta"),H=r("meta"),q=r("meta"),C=r("meta"),J=s(),K=r("div"),O=r("div"),Q=r("div"),R=r("span"),U=u(ot),W=s(),X=r("div"),Y=r("img"),et=s(),at=r("div");for(let t=0;t<pt.length;t+=1)pt[t].c();rt=s(),st=r("div"),ct=s(),nt=r("span"),ht.c(),lt=s(),gt&&gt.c(),this.h()},l(t){const e=h('[data-svelte="svelte-1fawf35"]',document.head);a=c(e,"META",{name:!0,content:!0}),M=c(e,"META",{name:!0,content:!0}),T=c(e,"META",{property:!0,content:!0}),k=c(e,"META",{property:!0,content:!0}),D=c(e,"META",{property:!0,content:!0}),L=c(e,"META",{property:!0,content:!0}),S=c(e,"META",{property:!0,content:!0}),G=c(e,"META",{property:!0,content:!0}),P=c(e,"META",{property:!0,content:!0}),H=c(e,"META",{property:!0,content:!0}),q=c(e,"META",{property:!0,content:!0}),C=c(e,"META",{property:!0,content:!0}),e.forEach(o),J=l(t),K=c(t,"DIV",{class:!0});var r=n(K);O=c(r,"DIV",{class:!0});var s=n(O);Q=c(s,"DIV",{class:!0});var m=n(Q);R=c(m,"SPAN",{class:!0});var d=n(R);U=g(d,ot),d.forEach(o),W=l(m),X=c(m,"DIV",{class:!0});var p=n(X);Y=c(p,"IMG",{class:!0,src:!0,alt:!0}),p.forEach(o),et=l(m),at=c(m,"DIV",{class:!0});var i=n(at);for(let t=0;t<pt.length;t+=1)pt[t].l(i);i.forEach(o),rt=l(m),st=c(m,"DIV",{class:!0}),n(st).forEach(o),ct=l(m),nt=c(m,"SPAN",{class:!0});var u=n(nt);ht.l(u),u.forEach(o),lt=l(m),gt&&gt.l(m),m.forEach(o),s.forEach(o),r.forEach(o),this.h()},h(){m(a,"name","description"),m(a,"content",i=t[0].metadata.desc),m(M,"name","keywords"),m(M,"content",A=t[0].metadata.keywords),m(T,"property","og:type"),m(T,"content","website"),m(k,"property","og:url"),m(k,"content",j="https://mattbrealey.com/products/"+t[0].slug),m(D,"property","og:title"),m(D,"content",V=t[0].metadata.title),m(L,"property","og:description"),m(L,"content",$=t[0].metadata.desc),m(S,"property","og:image"),m(S,"content",_="https://mattbrealey.com/"+t[0].metadata.smallImage),m(G,"property","twitter:card"),m(G,"content","summary_large_image"),m(P,"property","twitter:url"),m(P,"content",B="https://mattbrealey.com/products/"+t[0].slug),m(H,"property","twitter:title"),m(H,"content",N=t[0].metadata.title),m(q,"property","twitter:description"),m(q,"content",z=t[0].metadata.desc),m(C,"property","twitter:image"),m(C,"content",F="https://mattbrealey.com/"+t[0].metadata.smallImage),m(R,"class","text-2xl sm:text-4xl sm:font-thin text-toriAccent tracking-wide pb-2"),m(Y,"class","absolute h-full w-full object-cover"),Y.src!==(Z=t[0].metadata[`largeImage${t[1]}`])&&m(Y,"src",Z),m(Y,"alt",tt=t[0].metadata.title),m(X,"class","relative overflow-hidden pb-2/3 sm:pb-3/5 rounded-md w-auto mt-4 sm:max-h-600"),m(at,"class","grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-3 h-32 mt-2 sm:mt-3"),m(st,"class","markdown text-center pt-4 sm:pt-8"),m(nt,"class","text-2xl sm:text-4xl sm:font-thin text-toriAccent tracking-wide text-center pt-4 sm:pt-8"),m(Q,"class","font-light text-gray-800 flex flex-col text-sm sm:text-base text-center px-2 sm:px-6"),m(O,"class","px-4 sm:px-0 py-2"),m(K,"class","py-6 px-4 sm:px-0 sm:py-8")},m(t,e){p(document.head,a),p(document.head,M),p(document.head,T),p(document.head,k),p(document.head,D),p(document.head,L),p(document.head,S),p(document.head,G),p(document.head,P),p(document.head,H),p(document.head,q),p(document.head,C),d(t,J,e),d(t,K,e),p(K,O),p(O,Q),p(Q,R),p(R,U),p(Q,W),p(Q,X),p(X,Y),p(Q,et),p(Q,at);for(let t=0;t<pt.length;t+=1)pt[t].m(at,null);p(Q,rt),p(Q,st),st.innerHTML=mt,p(Q,ct),p(Q,nt),ht.m(nt,null),p(Q,lt),gt&&gt.m(Q,null)},p(t,[r]){if(1&r&&e!==(e=t[0].metadata.title+" // Matt Brealey")&&(document.title=e),1&r&&i!==(i=t[0].metadata.desc)&&m(a,"content",i),1&r&&A!==(A=t[0].metadata.keywords)&&m(M,"content",A),1&r&&j!==(j="https://mattbrealey.com/products/"+t[0].slug)&&m(k,"content",j),1&r&&V!==(V=t[0].metadata.title)&&m(D,"content",V),1&r&&$!==($=t[0].metadata.desc)&&m(L,"content",$),1&r&&_!==(_="https://mattbrealey.com/"+t[0].metadata.smallImage)&&m(S,"content",_),1&r&&B!==(B="https://mattbrealey.com/products/"+t[0].slug)&&m(P,"content",B),1&r&&N!==(N=t[0].metadata.title)&&m(H,"content",N),1&r&&z!==(z=t[0].metadata.desc)&&m(q,"content",z),1&r&&F!==(F="https://mattbrealey.com/"+t[0].metadata.smallImage)&&m(C,"content",F),1&r&&ot!==(ot=t[0].metadata.title+"")&&f(U,ot),3&r&&Y.src!==(Z=t[0].metadata[`largeImage${t[1]}`])&&m(Y,"src",Z),1&r&&tt!==(tt=t[0].metadata.title)&&m(Y,"alt",tt),13&r){let e;for(dt=t[2],e=0;e<dt.length;e+=1){const a=v(t,dt,e);pt[e]?pt[e].p(a,r):(pt[e]=w(a),pt[e].c(),pt[e].m(at,null))}for(;e<pt.length;e+=1)pt[e].d(1);pt.length=dt.length}1&r&&mt!==(mt=t[0].html+"")&&(st.innerHTML=mt),ut===(ut=it(t))&&ht?ht.p(t,r):(ht.d(1),ht=ut(t),ht&&(ht.c(),ht.m(nt,null))),"true"!==t[0].metadata.sold&&""!==t[0].metadata.paypalLink?gt?gt.p(t,r):(gt=I(t),gt.c(),gt.m(Q,null)):gt&&(gt.d(1),gt=null)},i:y,o:y,d(t){o(a),o(M),o(T),o(k),o(D),o(L),o(S),o(G),o(P),o(H),o(q),o(C),t&&o(J),t&&o(K),x(pt,t),ht.d(),gt&&gt.d()}}}async function A({params:t,query:e}){const a=await this.fetch(`./products/${t.slug}.json`),r=await a.json();if(200===a.status)return{product:r};this.error(a.status,r.message)}function T(t,e,a){let{product:r}=e,s=1,c=[1];function n(t){a(1,s=t)}r.metadata.largeImage2&&c.push(2),r.metadata.largeImage3&&c.push(3),r.metadata.largeImage4&&c.push(4),r.metadata.largeImage5&&c.push(5);return t.$set=t=>{"product"in t&&a(0,r=t.product)},[r,s,c,n,t=>{n(t)}]}export default class extends t{constructor(t){super(),e(this,t,T,M,a,{product:0})}}export{A as preload};
